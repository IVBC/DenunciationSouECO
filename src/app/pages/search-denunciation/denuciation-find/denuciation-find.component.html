<div class="body-fetch d-flex justify-content-center align-items-center  pt-3" style="background-color: #e9f6fe; min-height: 100vh; width: 100%; flex-direction: column;">
  <div class="card shadow" style="width: 50rem; height: max-content;">
    <div class="card-body">

      <div class="status-denun mb-4">
        <div class="div-img mr-4"   matTooltipPosition="above"
          matTooltip="Clique para ir para a Localização da denúncia">
          <a href="#">
          <img class="img-loc" src="../../../../assets/images/logoMaps.png" alt="Ir Para Localização">
          </a>
        </div>

        <div class="status-box">
          <h5 style="color: #058950;">STATUS</h5>
          <span style="font-size: 14px;">Denúncia: <a style="color: red; font-size: 14px;">{{DATA[0].denunciation.code}}</a> </span>
          <span style="font-size: 14px;">{{DATA[0].denunciation.timestamp | date: 'dd/MM/yyyy  h:mm a'}}</span>
        </div>

        <div class="descript" >
          {{DATA[0].statusDenunciation.details}}
        </div>

        <button matTooltipPosition="above"
        matTooltip="Clique para iniciar Download do Protocolo" type="button" style="background: #058950; color: #fff;" class="btn btn-primary ml-3"> Download do Protocolo</button>
      </div>

      <hr>
      <!-- <div class="logo-login mb-4"></div> -->

      <mat-horizontal-stepper linear #stepper>
        <mat-step>
            <ng-template matStepLabel>Enviando</ng-template>
        </mat-step>

        <mat-step>
            <ng-template matStepLabel>Enviado</ng-template>
        </mat-step>

        <mat-step>
          <ng-template matStepLabel>Em Análise</ng-template>
          <!-- <p>You are now done.</p>
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="stepper.reset()">Reset</button>
          </div> -->
        </mat-step>

        <mat-step>
          <ng-template matStepLabel>Encaminhado</ng-template>
          <!-- <p>You are now done.</p>
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="stepper.reset()">Reset</button>
          </div> -->
        </mat-step>

        <mat-step>
          <ng-template matStepLabel>Finalizado</ng-template>
          <!-- <p>You are now done.</p>
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="stepper.reset()">Reset</button>
          </div> -->
        </mat-step>
      </mat-horizontal-stepper>

      <div class="info-container d-flex justify-content-around">

        <div class="box-column d-flex justify-content-center ">
          <div class="item-box-column mb-3" style="height: max-content;">
            <div class="title-box d-flex justify-content-center ">
              <span class="title-info">Dados do Relator</span>
            </div>

            <div *ngIf="DATA[0].denunciation.anonymous" class="denuncia d-flex justify-content-left" style="color: red; text-align: center;">
              Denúncia Anônima!
            </div>

            <div *ngIf="!DATA[0].denunciation.anonymous" class="relator d-flex justify-content-left">
              <span class="info">{{DATA[0].denunciation.user.name}}</span>
              <a class="info text-link" href="mailto:evaldopkscardoso@gmail.com" >{{DATA[0].denunciation.user.email}}</a>
              <!-- <span class="info">evaldopkscardoso@gmail.com</span> -->
              <span class="info">(92) {{DATA[0].denunciation.user.contact | phone}}</span>
            </div>
          </div>

          <div class="item-box-column mb-3" style="height: max-content;">
            <div class="photos-container">
              <div style="height: 100%;" id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img style="height: 200px;" class="d-block w-100" src="../../../../assets/teste/eco1.jpeg" alt="First slide">
                  </div>
                  <div class="carousel-item">
                    <img style="height: 200px;" class="d-block w-100" src="../../../../assets/teste/eco2.gif" alt="Second slide">
                  </div>
                  <div class="carousel-item">
                    <img style="height: 200px;" class="d-block w-100" src="../../../../assets/teste/eco3.jpeg" alt="Third slide">
                  </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="info-user">
          <div class="title-box d-flex justify-content-center">
            <span class="title-info">Informações da Denúncia</span>
          </div>

          <div  class="denuncia d-flex justify-content-left">
            <span class="info">Área {{DATA[0].denunciation.urban ? 'Urbana' : 'Rural'}}</span>
            <span class="info">{{DATA[0].denunciation.city}} - {{DATA[0].denunciation.state}}</span>
            <span class="info" style="display: flex; flex-direction: row;">
              <a class="text-link" href="#" matTooltipPosition="above"
              matTooltip="Clique para ir para a Localização da denúncia">Rua {{DATA[0].denunciation.street}}, Nº {{DATA[0].denunciation.number}} - {{DATA[0].denunciation.district}} </a>
              <i class="material-icons" style="font-size: 20px; margin-left: 5px;">place</i>
            </span>
            <span class="info">{{DATA[0].denunciation.zipcode | zipcode}}</span>
            <span class="info">Referência: {{DATA[0].denunciation.reference}}</span>

            <div class="info-descript mt-2">
             <span style="color: #058950;">Tipo: </span>  {{DATA[0].denunciation.type}}
            </div>

            <div class="info-descript mt-2">
              <span style="color: #058950;">Descrição: </span> {{DATA[0].denunciation.description}}
             </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card shadow mt-4 mb-4" style="width: 95%; height: max-content; ">
    <!-- <p-table [columns]="cols" [value]="tableData">
      <ng-template pTemplate="header" let-columns>
          <tr>
              <th *ngFor="let col of columns">
                  {{col.header}}
              </th>
          </tr>
      </ng-template>

      <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
              <td *ngFor="let col of columns">
                <div [ngClass]="setStatus(rowData[col.field])"  *ngIf="col.field == 'status'" style="justify-content: center; width: 100%; height: 25px; float: left; border-radius: 4px; display: flex; ">
                  <span style="float: left; font-weight: bold; position: relative; top: 2px;">{{textStatus}}</span >
                </div>

                <span *ngIf="col.field == 'dateinit' ">{{rowData[col.field ]}}</span>
              </td>
          </tr>
      </ng-template>
    </p-table> -->


    <p-table #dt [columns]="colsStatus" styleClass="ui-table-cars" [value]="tableData"  >
      <ng-template pTemplate="header" let-columns>
          <tr>
              <th *ngFor="let col of columns" [ngClass]="col.field" [pSortableColumn]="col.field" [ngSwitch]="col.field">
                  {{col.header}}

              </th>
              <!-- <th style="width: 8em; text-align: center;">
                  <button pButton type="button" icon="pi pi-plus"></button>
              </th> -->
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr [pSelectableRow]="rowData" [pEditableRow]="rowData">
              <td>
                <div [ngClass]="setStatus(rowData.status)"   style="justify-content: center; width: 100%; height: 25px; float: left; border-radius: 4px; display: flex;  ">
                  <span style="float: left; font-weight: bold; position: relative; top: 2px;">{{textStatus}}</span >
                </div>
              </td>
              <td style="text-align: center;">{{rowData.description}}</td>
              <td style="text-align: center;">
                  <!-- <img src="assets/showcase/images/demo/car/{{rowData.brand}}.png" style="width: 50px; margin-right: 1em; vertical-align: middle;"> -->
                 <p> {{rowData.period}}</p>
              </td>
              <td style="text-align: center;">
                <div>
                  <a style="float: left; background: #058950; height: 30px !important; display: flex; width: 80px;border-radius: 5px; text-align: center; justify-content: center; color: #fff;" href="http://localhost:4200/denunciations/22332">
                  <span style=" position: relative; height: max-content; top: 4px;">Protocolo</span>
                  </a>
                </div>
              </td>
              <!-- <td style="text-align: center;">
                  <button pButton type="button" (click)="showBasicDialog()" class="ui-button-success" icon="pi pi-pencil" style="margin-right: .5em"></button>
                  <button pButton type="button" class="ui-button-danger" icon="pi pi-trash"></button>


              </td> -->
          </tr>
      </ng-template>
  </p-table>
  </div>




</div>
